/* ============================================================
   BUILDCALC PRO — style.css  v3.0
   Admin Dashboard · Dark Theme · Georgian UI
   ============================================================ */

/* ---------- Reset ---------- */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg:         #0f1117;
  --bg-2:       #161b27;
  --bg-3:       #1c2333;
  --surface:    #1e2535;
  --surface-2:  #242d40;
  --border:     #2d3748;
  --border-2:   #3a4460;
  --text:       #e2e8f0;
  --text-2:     #94a3b8;
  --text-3:     #64748b;
  /* Blues (tiles) */
  --blue:       #3b82f6;
  --blue-dim:   rgba(59,130,246,0.12);
  /* Greens */
  --green:      #22c55e;
  --green-dim:  rgba(34,197,94,0.12);
  /* Ambers */
  --amber:      #f59e0b;
  --amber-dim:  rgba(245,158,11,0.12);
  /* Purples */
  --purple:     #a855f7;
  --purple-dim: rgba(168,85,247,0.12);
  /* Reds */
  --red:        #ef4444;
  --red-dim:    rgba(239,68,68,0.12);
  /* Teals */
  --teal:       #14b8a6;
  --teal-dim:   rgba(20,184,166,0.12);
  /* Rose (wallpaper accent) */
  --rose:       #f43f5e;
  --rose-dim:   rgba(244,63,94,0.12);
  --rose-mid:   rgba(244,63,94,0.2);
  /* Indigo */
  --indigo:     #6366f1;
  --indigo-dim: rgba(99,102,241,0.12);

  --r-sm: 6px; --r-md: 10px; --r-lg: 14px; --r-xl: 18px;
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.4);
  --shadow-md: 0 4px 16px rgba(0,0,0,0.35);
  --shadow-lg: 0 12px 40px rgba(0,0,0,0.5);
  --sidebar-w: 230px;
  --font-body: 'Noto Sans Georgian', sans-serif;
  --font-mono: 'JetBrains Mono', monospace;
}

html { font-size: 14px; }
body {
  font-family: var(--font-body);
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  display: flex;
  -webkit-font-smoothing: antialiased;
  overflow-x: hidden;
}

/* ============================================================
   SIDEBAR
   ============================================================ */
.sidebar {
  width: var(--sidebar-w);
  min-height: 100vh;
  background: var(--bg-2);
  border-right: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  position: fixed;
  top: 0; left: 0;
  z-index: 100;
  overflow-y: auto;
}

.sidebar-brand {
  display: flex; align-items: center; gap: 10px;
  padding: 18px 16px 16px;
  border-bottom: 1px solid var(--border);
}
.brand-icon {
  width: 36px; height: 36px;
  background: linear-gradient(135deg, var(--blue), #06b6d4);
  border-radius: var(--r-md);
  display: grid; place-items: center;
  box-shadow: 0 4px 12px rgba(59,130,246,0.35);
}
.brand-icon svg { width: 18px; height: 18px; color: white; }
.brand-name { display: block; font-size: 14px; font-weight: 700; letter-spacing: -0.3px; }
.brand-version { display: block; font-size: 10px; color: var(--text-3); font-family: var(--font-mono); }

/* ── App Switcher ── */
.app-switcher {
  padding: 12px 10px;
  border-bottom: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.app-tab {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 10px;
  border-radius: var(--r-lg);
  border: 1.5px solid transparent;
  background: transparent;
  cursor: pointer;
  transition: all 0.18s;
  color: var(--text-2);
  font-family: var(--font-body);
  text-align: left;
  position: relative;
}
.app-tab:hover {
  background: var(--surface);
  border-color: var(--border);
  color: var(--text);
}
.app-tab.active[data-app="tiles"] {
  background: var(--blue-dim);
  border-color: rgba(59,130,246,0.3);
  color: var(--blue);
}
.app-tab.active[data-app="wallpaper"] {
  background: var(--rose-dim);
  border-color: rgba(244,63,94,0.3);
  color: var(--rose);
}

.app-tab-icon {
  width: 32px; height: 32px;
  border-radius: var(--r-md);
  display: grid; place-items: center;
  flex-shrink: 0;
}
.app-tab-icon svg { width: 15px; height: 15px; }
.app-tab-icon--blue  { background: var(--blue-dim);  color: var(--blue); }
.app-tab-icon--rose  { background: var(--rose-dim);  color: var(--rose); }
.app-tab.active .app-tab-icon--blue { background: rgba(59,130,246,0.25); }
.app-tab.active .app-tab-icon--rose { background: rgba(244,63,94,0.25); }

.app-tab-text { flex: 1; }
.app-tab-name { display: block; font-size: 12px; font-weight: 700; line-height: 1.2; }
.app-tab-sub  { display: block; font-size: 10px; opacity: 0.7; }
.app-tab-arrow { font-size: 16px; opacity: 0.4; font-weight: 300; }

/* ── Section Nav ── */
.sidebar-nav { padding: 12px 10px; flex: 1; flex-direction: column;}
.nav-group { display: flex; flex-direction: column; gap: 2px; }
.nav-label {
  font-size: 10px; font-weight: 600; letter-spacing: 1px;
  text-transform: uppercase; color: var(--text-3);
  padding: 0 8px 8px;
  display: block;
}
.nav-item {
  display: flex; align-items: center; gap: 9px;
  padding: 8px 10px;
  border-radius: var(--r-md);
  color: var(--text-2);
  text-decoration: none;
  font-size: 12px; font-weight: 500;
  transition: all 0.15s;
}
.nav-item svg { width: 15px; height: 15px; flex-shrink: 0; opacity: 0.7; }
.nav-item:hover { background: var(--surface); color: var(--text); }
.nav-item.active {
  background: var(--blue-dim); color: var(--blue);
  border: 1px solid rgba(59,130,246,0.2);
}
#navGroupWallpaper .nav-item.active {
  background: var(--rose-dim); color: var(--rose);
  border-color: rgba(244,63,94,0.2);
}
.nav-item.active svg { opacity: 1; }

.sidebar-footer { padding: 14px 10px 16px; border-top: 1px solid var(--border); margin-top: auto; }
.user-card { display: flex; align-items: center; gap: 10px; padding: 8px 10px; border-radius: var(--r-md); }
.user-avatar {
  width: 32px; height: 32px;
  background: linear-gradient(135deg, var(--purple), var(--blue));
  border-radius: 50%; display: grid; place-items: center;
  font-size: 11px; font-weight: 700; color: white; flex-shrink: 0;
}
.user-name { display: block; font-size: 12px; font-weight: 600; }
.user-role { display: block; font-size: 10px; color: var(--text-3); }

/* ============================================================
   MAIN / LAYOUT
   ============================================================ */
.main-content { margin-left: var(--sidebar-w); flex: 1; padding: 22px; min-height: 100vh; }

.app-view { animation: fadeApp 0.22s ease; }
@keyframes fadeApp { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }

.topbar {
  display: flex; align-items: flex-start; justify-content: space-between;
  margin-bottom: 20px; flex-wrap: wrap; gap: 12px;
}
.topbar-left { display: flex; flex-direction: column; gap: 3px; }
.topbar-badge {
  display: inline-flex; align-items: center; gap: 5px;
  padding: 3px 10px; border-radius: 20px;
  font-size: 10px; font-weight: 700; letter-spacing: 0.8px;
  text-transform: uppercase; margin-bottom: 2px;
  width: fit-content;
}
.topbar-badge--blue  { background: var(--blue-dim);  color: var(--blue);  border: 1px solid rgba(59,130,246,0.25); }
.topbar-badge--rose  { background: var(--rose-dim);  color: var(--rose);  border: 1px solid rgba(244,63,94,0.25); }
.page-title { font-size: 19px; font-weight: 700; letter-spacing: -0.5px; }
.page-subtitle { font-size: 12px; color: var(--text-3); }
.topbar-right { display: flex; gap: 10px; align-items: center; }

.content-grid { display: grid; grid-template-columns: 1fr 390px; gap: 18px; align-items: start; }
.input-column  { display: flex; flex-direction: column; gap: 14px; }
.output-column { display: flex; flex-direction: column; gap: 14px; position: sticky; top: 22px; }

/* ============================================================
   CARDS
   ============================================================ */
.card {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: var(--r-xl); box-shadow: var(--shadow-sm);
  overflow: hidden; transition: box-shadow 0.2s;
}
.card:hover { box-shadow: var(--shadow-md); }
.card--dark { background: var(--bg-3); }

.card-header {
  display: flex; align-items: center; gap: 12px;
  padding: 14px 18px; border-bottom: 1px solid var(--border);
}
.card-icon {
  width: 32px; height: 32px; border-radius: var(--r-md);
  display: grid; place-items: center; flex-shrink: 0;
}
.card-icon svg { width: 15px; height: 15px; }
.card-icon--blue   { background: var(--blue-dim);   color: var(--blue); }
.card-icon--green  { background: var(--green-dim);  color: var(--green); }
.card-icon--amber  { background: var(--amber-dim);  color: var(--amber); }
.card-icon--purple { background: var(--purple-dim); color: var(--purple); }
.card-icon--teal   { background: var(--teal-dim);   color: var(--teal); }
.card-icon--rose   { background: var(--rose-dim);   color: var(--rose); }
.card-icon--indigo { background: var(--indigo-dim); color: var(--indigo); }

.card-title { font-size: 13px; font-weight: 600; }
.card-desc  { font-size: 11px; color: var(--text-3); margin-top: 1px; }
.card-body  { padding: 16px 18px; }
.ml-auto    { margin-left: auto; }

/* ============================================================
   FORMS
   ============================================================ */
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px; }
.form-row--three { grid-template-columns: 1fr 1fr 1fr; }
.form-row:last-child { margin-bottom: 0; }
.form-group { display: flex; flex-direction: column; gap: 5px; }

.form-label {
  font-size: 11px; font-weight: 600; color: var(--text-2);
  letter-spacing: 0.3px; display: flex; align-items: center; gap: 6px;
}
.input-wrap { position: relative; }
.form-input {
  width: 100%; padding: 8px 34px 8px 11px;
  background: var(--bg); border: 1.5px solid var(--border);
  border-radius: var(--r-md); color: var(--text);
  font-family: var(--font-mono); font-size: 13px; font-weight: 500;
  outline: none; transition: border-color 0.15s, box-shadow 0.15s;
  -moz-appearance: textfield;
}
.form-input::-webkit-inner-spin-button,
.form-input::-webkit-outer-spin-button { -webkit-appearance: none; }
.form-input:focus { border-color: var(--blue); box-shadow: 0 0 0 3px rgba(59,130,246,0.14); }
.form-input:hover:not(:focus) { border-color: var(--border-2); }
.input-unit {
  position: absolute; right: 9px; top: 50%; transform: translateY(-50%);
  font-size: 10px; font-weight: 600; color: var(--text-3);
  font-family: var(--font-mono); pointer-events: none;
}

.label-badge {
  background: var(--blue-dim); color: var(--blue);
  border-radius: 20px; padding: 1px 7px; font-size: 10px;
  font-family: var(--font-mono); font-weight: 600;
  border: 1px solid rgba(59,130,246,0.25); transition: all 0.2s;
}
.label-badge--rose {
  background: var(--rose-dim); color: var(--rose);
  border-color: rgba(244,63,94,0.25);
}

.range-input {
  width: 100%; height: 4px; border-radius: 2px;
  appearance: none; outline: none; cursor: pointer;
  background: linear-gradient(to right, var(--blue) 0%, var(--blue) 33.3%, var(--border) 33.3%);
}
.range-input::-webkit-slider-thumb {
  appearance: none; width: 16px; height: 16px; border-radius: 50%;
  background: var(--blue);
  box-shadow: 0 0 0 3px var(--bg), 0 0 0 5px rgba(59,130,246,0.3);
  transition: transform 0.15s; cursor: grab;
}
.range-input::-webkit-slider-thumb:active { transform: scale(1.2); }

.range-input--rose {
  background: linear-gradient(to right, var(--rose) 0%, var(--rose) 0%, var(--border) 0%);
}
.range-input--rose::-webkit-slider-thumb {
  background: var(--rose);
  box-shadow: 0 0 0 3px var(--bg), 0 0 0 5px rgba(244,63,94,0.3);
}

.field-hint { font-size: 10px; color: var(--text-3); margin-top: 6px; line-height: 1.4; }
.divider { border: none; border-top: 1px solid var(--border); margin: 14px 0; }

.info-banner {
  display: flex; align-items: center; gap: 8px;
  padding: 9px 12px;
  background: var(--blue-dim); border: 1px solid rgba(59,130,246,0.2);
  border-radius: var(--r-md); font-size: 12px; color: var(--text-2);
  margin-top: 12px;
}
.info-banner svg { color: var(--blue); flex-shrink: 0; }
.info-banner strong { color: var(--blue); font-family: var(--font-mono); }
.info-banner--rose { background: var(--rose-dim); border-color: rgba(244,63,94,0.2); }
.info-banner--rose svg { color: var(--rose); }
.info-banner--rose strong { color: var(--rose); }

/* ============================================================
   OPENINGS
   ============================================================ */
.openings-list { display: flex; flex-direction: column; gap: 8px; }
.empty-state {
  display: flex; flex-direction: column; align-items: center; gap: 5px;
  padding: 24px 0; color: var(--text-3); text-align: center;
}
.empty-state svg { opacity: 0.35; }
.empty-state p  { font-size: 13px; font-weight: 500; color: var(--text-2); }
.empty-state span { font-size: 11px; }

.opening-row {
  background: var(--bg); border: 1px solid var(--border);
  border-radius: var(--r-lg); padding: 11px;
  animation: slideIn 0.2s ease;
}
@keyframes slideIn { from { opacity:0; transform: translateY(-6px); } to { opacity:1; transform: translateY(0); } }
.opening-row-header { display: flex; align-items: center; gap: 8px; margin-bottom: 10px; }
.opening-type-select {
  flex: 1; padding: 6px 9px;
  background: var(--surface); border: 1.5px solid var(--border);
  border-radius: var(--r-md); color: var(--text);
  font-family: var(--font-body); font-size: 12px; font-weight: 500;
  outline: none; cursor: pointer; transition: border-color 0.15s;
}
.opening-type-select:focus { border-color: var(--amber); }
.btn-remove {
  width: 28px; height: 28px; border-radius: var(--r-sm);
  border: 1px solid var(--red-dim); background: var(--red-dim);
  color: var(--red); display: grid; place-items: center;
  cursor: pointer; transition: all 0.15s; flex-shrink: 0;
}
.btn-remove:hover { background: rgba(239,68,68,0.25); border-color: rgba(239,68,68,0.4); }
.opening-dims { display: grid; grid-template-columns: 1fr 1fr auto; gap: 8px; align-items: end; }
.opening-area-display { min-width: 68px; }
.input-area-val {
  padding: 7px 9px; background: var(--green-dim);
  border: 1px solid rgba(34,197,94,0.2); border-radius: var(--r-md);
  font-size: 12px; font-weight: 600; color: var(--green); text-align: center;
}
.deduction-bar {
  display: flex; justify-content: space-between; align-items: center;
  padding: 9px 12px; background: var(--red-dim);
  border: 1px solid rgba(239,68,68,0.2); border-radius: var(--r-md);
  font-size: 12px; color: var(--text-2); margin-top: 8px;
}
.deduction-bar strong { font-family: var(--font-mono); color: var(--red); font-weight: 600; }

/* ============================================================
   LAYOUT PATTERN SELECTOR
   ============================================================ */
.pattern-grid { display: grid; grid-template-columns: repeat(3,1fr); gap: 8px; margin-bottom: 10px; }

.pattern-btn {
  position: relative; display: flex; flex-direction: column;
  align-items: center; gap: 8px; padding: 12px 8px 10px;
  background: var(--bg); border: 1.5px solid var(--border);
  border-radius: var(--r-lg); cursor: pointer;
  transition: border-color 0.18s, background 0.18s, transform 0.15s, box-shadow 0.18s;
  text-align: center; color: var(--text-2); font-family: var(--font-body);
}
.pattern-btn:hover { border-color: var(--border-2); background: var(--surface-2); transform: translateY(-2px); box-shadow: 0 6px 18px rgba(0,0,0,0.3); }
.pattern-btn[aria-pressed="true"] { border-color: var(--teal); background: var(--teal-dim); box-shadow: 0 0 0 3px rgba(20,184,166,0.18); color: var(--text); }
.pattern-btn[aria-pressed="true"] .pattern-name { color: var(--teal); }
.pattern-btn[aria-pressed="true"] .pattern-waste-tag { background: var(--teal); color: #0f1117; border-color: var(--teal); }

.pattern-waste-tag {
  position: absolute; top: 7px; right: 7px;
  font-family: var(--font-mono); font-size: 9px; font-weight: 700;
  padding: 2px 5px; border-radius: 20px;
  background: var(--surface-2); border: 1px solid var(--border-2); color: var(--text-3);
  transition: all 0.18s;
}
.pattern-preview {
  width: 50px; height: 42px; border-radius: 5px; overflow: hidden;
  display: flex; flex-wrap: wrap; gap: 2px; padding: 3px;
  background: var(--surface-2); border: 1px solid var(--border);
  transition: border-color 0.18s; flex-shrink: 0; align-content: flex-start;
}
.pattern-btn[aria-pressed="true"] .pattern-preview { border-color: rgba(20,184,166,0.4); }
.pattern-preview--standard .pp-tile {
  width: calc(33.33% - 1.5px); height: calc(33.33% - 1.5px);
  background: var(--border-2); border-radius: 1px; transition: background 0.18s;
}
.pattern-btn[aria-pressed="true"] .pattern-preview--standard .pp-tile { background: rgba(20,184,166,0.55); }
.pattern-preview--brick { flex-direction: column; flex-wrap: nowrap; gap: 2px; padding: 3px 2px; align-items: flex-start; }
.pp-row { display: flex; gap: 2px; width: 100%; }
.pp-offset { transform: translateX(-24%); }
.pp-tile.pp-wide { width: 20px; height: 10px; background: var(--border-2); border-radius: 1px; flex-shrink: 0; transition: background 0.18s; }
.pattern-btn[aria-pressed="true"] .pp-tile.pp-wide { background: rgba(20,184,166,0.55); }
.pattern-preview--diagonal { display: flex; align-items: center; justify-content: center; position: relative; flex-wrap: nowrap; padding: 0; }
.pp-diamond { position: absolute; width: 19px; height: 19px; background: var(--border-2); border-radius: 2px; transform: rotate(45deg); transition: background 0.18s; }
.pp-d2 { transform: rotate(45deg) translate(14px,0); opacity: 0.65; }
.pp-d3 { transform: rotate(45deg) translate(-14px,0); opacity: 0.65; }
.pattern-btn[aria-pressed="true"] .pp-diamond { background: rgba(20,184,166,0.55); }
.pattern-info { display: flex; flex-direction: column; gap: 2px; align-items: center; }
.pattern-name { font-size: 11px; font-weight: 600; }
.pattern-desc { font-size: 9px; color: var(--text-3); }

.pattern-active-banner {
  display: flex; align-items: center; justify-content: space-between; gap: 8px;
  flex-wrap: wrap; padding: 9px 12px;
  background: var(--teal-dim); border: 1px solid rgba(20,184,166,0.25);
  border-radius: var(--r-md); font-size: 12px; color: var(--text-2);
  animation: slideIn 0.25s ease;
}
.pab-left { display: flex; align-items: center; gap: 6px; color: var(--teal); }
.pab-left svg { flex-shrink: 0; }
.pattern-active-banner strong { font-family: var(--font-mono); font-size: 13px; font-weight: 700; color: var(--teal); }

/* ============================================================
   WALLPAPER-SPECIFIC
   ============================================================ */
.btn-rose { background: var(--rose) !important; box-shadow: 0 2px 12px rgba(244,63,94,0.4) !important; }
.btn-rose:hover { background: #e11d48 !important; box-shadow: 0 4px 16px rgba(244,63,94,0.5) !important; }

.wp-metrics-row { display: grid; grid-template-columns: repeat(3,1fr); gap: 8px; }
.wp-chip {
  display: flex; flex-direction: column; gap: 4px;
  padding: 10px 10px; background: var(--bg);
  border: 1px solid var(--border); border-radius: var(--r-md); text-align: center;
}
.wp-chip-label { font-size: 9px; color: var(--text-3); font-weight: 600; letter-spacing: 0.3px; line-height: 1.3; }
.wp-chip-val   { font-family: var(--font-mono); font-size: 14px; font-weight: 700; color: var(--rose); }

.wp-batch-warning {
  display: flex; gap: 12px; align-items: flex-start;
  padding: 13px 14px; margin: 0 18px 0;
  background: rgba(245,158,11,0.08);
  border: 1px solid rgba(245,158,11,0.25);
  border-radius: var(--r-md);
  animation: slideIn 0.25s ease;
}
.wp-batch-icon { font-size: 18px; flex-shrink: 0; line-height: 1.2; }
.wp-batch-text { display: flex; flex-direction: column; gap: 4px; }
.wp-batch-text strong { font-size: 12px; font-weight: 700; color: var(--amber); }
.wp-batch-text span   { font-size: 11px; color: var(--text-2); line-height: 1.5; }

/* ============================================================
   CANVAS
   ============================================================ */
.canvas-body { padding: 12px; }
canvas { width: 100%; border-radius: var(--r-md); display: block; background: var(--bg); }

/* ============================================================
   RESULTS CARD — Tiles
   ============================================================ */
.results-card {
  background: linear-gradient(160deg,#1a2540 0%,#111827 100%);
  border: 1px solid rgba(59,130,246,0.2);
}
.results-hero {
  padding: 22px 20px 18px; text-align: center; border-bottom: 1px solid var(--border);
  background: radial-gradient(ellipse at top, rgba(59,130,246,0.08) 0%, transparent 70%);
}
.hero-label {
  font-size: 10px; font-weight: 700; letter-spacing: 1.5px;
  text-transform: uppercase; color: var(--blue); margin-bottom: 8px;
}
.hero-number {
  font-size: 52px; font-weight: 800; letter-spacing: -3px;
  font-family: var(--font-mono); line-height: 1;
  background: linear-gradient(135deg,#fff 40%,var(--blue) 100%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
}
.hero-sub { font-size: 11px; color: var(--text-3); margin-top: 5px; }

/* Wallpaper variant */
.results-card--rose { border-color: rgba(244,63,94,0.2); background: linear-gradient(160deg,#261525 0%,#111827 100%); }
.results-hero--rose { background: radial-gradient(ellipse at top, rgba(244,63,94,0.08) 0%, transparent 70%); }
.results-hero--rose .hero-label { color: var(--rose); }
.results-hero--rose .hero-number {
  background: linear-gradient(135deg,#fff 40%,var(--rose) 100%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
}

.metrics-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1px; background: var(--border); border-bottom: 1px solid var(--border); }
.metric { padding: 12px 14px; background: var(--bg-3); text-align: center; }
.metric-value { font-size: 19px; font-weight: 700; font-family: var(--font-mono); color: var(--text); letter-spacing: -1px; }
.metric-label { font-size: 10px; color: var(--text-3); margin-top: 2px; }

.stats-table { padding: 12px 18px; display: flex; flex-direction: column; border-bottom: 1px solid var(--border); }
.stats-row {
  display: flex; justify-content: space-between; align-items: center;
  padding: 7px 0; border-bottom: 1px solid rgba(255,255,255,0.04);
  font-size: 12px; color: var(--text-2);
}
.stats-row:last-child { border-bottom: none; }
.stats-row--accent { color: var(--text); font-weight: 600; }
.stats-row--accent .mono { color: var(--green); }
.mono { font-family: var(--font-mono); font-size: 12px; font-weight: 500; }
.deduction { color: var(--red) !important; }

.results-actions { padding: 14px 18px; }

/* ============================================================
   BUTTONS
   ============================================================ */
.btn {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 8px 14px; border-radius: var(--r-md); border: none;
  font-family: var(--font-body); font-size: 12px; font-weight: 600;
  cursor: pointer; transition: all 0.15s; white-space: nowrap;
}
.btn:active { transform: scale(0.97); }
.btn-primary { background: var(--blue); color: white; box-shadow: 0 2px 12px rgba(59,130,246,0.35); }
.btn-primary:hover { background: #2563eb; box-shadow: 0 4px 16px rgba(59,130,246,0.45); }
.btn-ghost { background: var(--surface-2); color: var(--text-2); border: 1px solid var(--border); }
.btn-ghost:hover { background: var(--surface); color: var(--text); }
.btn-outline { background: transparent; color: var(--text-2); border: 1.5px solid var(--border); }
.btn-outline:hover { border-color: var(--blue); color: var(--blue); background: var(--blue-dim); }
.btn-sm { padding: 5px 10px; font-size: 11px; }
.btn-copy {
  width: 100%; justify-content: center; padding: 10px;
  font-size: 12px; background: var(--surface-2); color: var(--text-2);
  border: 1.5px solid var(--border); border-radius: var(--r-md);
}
.btn-copy:hover { border-color: var(--green); color: var(--green); background: var(--green-dim); }
.btn-copy.success { border-color: var(--green); color: var(--green); background: var(--green-dim); }
.btn-copy--rose:hover { border-color: var(--rose); color: var(--rose); background: var(--rose-dim); }
.btn-copy--rose.success { border-color: var(--rose); color: var(--rose); background: var(--rose-dim); }

/* ============================================================
   RESPONSIVE
   ============================================================ */
@media (max-width: 1100px) {
  .content-grid { grid-template-columns: 1fr; }
  /* პრევენცია, რომ შედეგების ბლოკი ზემოთ მოექცეს ან თავის ადგილზე დარჩეს */
  .output-column { position: static; width: 100%; }
}

@media (max-width: 780px) {
  :root { --sidebar-w: 0px; }
  .sidebar { display: none; }
  .main-content { margin-left: 0; padding: 12px; }
  
  .form-row, .form-row--three { 
    grid-template-columns: 1fr; /* მობილურზე ჯობია ყველაფერი ერთ სვეტში იყოს */
    gap: 10px;
  }

  /* ღიობების (კარების) ბლოკი */
  .opening-row {
    flex-direction: column; /* ელემენტები დალაგდეს ერთმანეთის ქვეშ */
    align-items: stretch;
    gap: 12px;
  }

  .header-controls {
    display: flex;
    gap: 8px;
    width: 100%;
    
  }

  .header-controls select {
    flex: 1; /* სელექტორებმა დაიკავონ თანაბარი სივრცე */
    min-width: 0; /* აუცილებელია, რომ არ გაიწელოს */
  }

  .opening-dims {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
    width: 100%;
  }

  /* ინპუტების ზომების კონტროლი */
  .form-input {
    width: 100%;
    min-width: 0; 
  }

  .opening-area-display { 
    display: block; /* წაშლის ნაცვლად, ჯობია აჩვენო დაბლა */
    text-align: right;
    font-size: 12px;
    color: var(--text-secondary);
  }
}

/* ============================================================
   MATERIAL SWITCHER (Sidebar tabs: Tiles / Wallpaper)
   ============================================================ */
.material-switcher {
  padding: 10px 10px 14px;
  border-bottom: 1px solid var(--border);
  margin-bottom: 6px;
  display: flex;
  flex-direction: column;
  gap: 3px;
}

.material-tab {
  display: flex;
  align-items: center;
  gap: 9px;
  padding: 10px 10px;
  border-radius: var(--r-lg);
  border: 1.5px solid transparent;
  background: transparent;
  cursor: pointer;
  transition: all 0.18s;
  color: var(--text-2);
  font-family: var(--font-body);
  text-align: left;
  position: relative;
  width: 100%;
}
.material-tab:hover {
  background: var(--surface);
  border-color: var(--border);
  color: var(--text);
}
.material-tab.active[data-material="tiles"] {
  background: var(--blue-dim);
  border-color: rgba(59,130,246,0.3);
  color: var(--blue);
}
.material-tab.active[data-material="wallpaper"] {
  background: var(--rose-dim);
  border-color: rgba(244,63,94,0.3);
  color: var(--rose);
}

.material-tab-icon {
  width: 30px; height: 30px;
  border-radius: var(--r-md);
  display: grid; place-items: center;
  flex-shrink: 0;
  background: var(--surface-2);
  transition: background 0.18s;
}
.material-tab.active[data-material="tiles"]     .material-tab-icon { background: rgba(59,130,246,0.2); color: var(--blue); }
.material-tab.active[data-material="wallpaper"] .material-tab-icon { background: rgba(244,63,94,0.2);  color: var(--rose); }

.material-tab-text { flex: 1; }
.material-tab-name { display: block; font-size: 12px; font-weight: 700; line-height: 1.2; }
.material-tab-sub  { display: block; font-size: 10px; opacity: 0.65; margin-top: 1px; }

.material-tab-dot {
  width: 7px; height: 7px;
  border-radius: 50%;
  flex-shrink: 0;
  opacity: 0.35;
  transition: opacity 0.18s;
}
.material-tab.active .material-tab-dot { opacity: 1; }
.material-tab-dot--blue { background: var(--blue); }
.material-tab-dot--rose { background: var(--rose); }

/* ============================================================
   TOPBAR MATERIAL BADGE
   ============================================================ */
.topbar-material-badge {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 3px 9px;
  border-radius: 20px;
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.8px;
  text-transform: uppercase;
  margin-bottom: 5px;
}
.badge--blue { background: var(--blue-dim);  color: var(--blue);  border: 1px solid rgba(59,130,246,0.25); }
.badge--rose { background: var(--rose-dim);  color: var(--rose);  border: 1px solid rgba(244,63,94,0.25); }

/* ============================================================
   WALLPAPER: BATCH WARNING CARD
   ============================================================ */
.batch-warning-card {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  padding: 14px 16px;
  background: linear-gradient(135deg, rgba(245,158,11,0.08), rgba(245,158,11,0.04));
  border: 1px solid rgba(245,158,11,0.25);
  border-radius: var(--r-xl);
  margin-bottom: 0;
}
.bwc-icon { font-size: 20px; flex-shrink: 0; line-height: 1; margin-top: 1px; }
.bwc-body { display: flex; flex-direction: column; gap: 5px; }
.bwc-title { font-size: 12px; font-weight: 700; color: var(--amber); }
.bwc-text  { font-size: 11px; color: var(--text-2); line-height: 1.6; }
.bwc-text strong { color: var(--amber); font-weight: 600; }

/* ============================================================
   WALLPAPER: PATTERN REPEAT HINT
   ============================================================ */
.pattern-repeat-hint {
  display: flex;
  align-items: center;
  gap: 5px;
  margin-top: 8px;
  font-size: 11px;
  color: var(--text-3);
}
.pattern-repeat-hint svg { color: var(--rose); flex-shrink: 0; }

/* ============================================================
   WALLPAPER: BATCH REMINDER (inside results card)
   ============================================================ */
.wp-batch-reminder {
  display: flex;
  align-items: center;
  gap: 7px;
  padding: 10px 16px;
  background: rgba(245,158,11,0.08);
  border-top: 1px solid rgba(245,158,11,0.2);
  border-bottom: 1px solid rgba(245,158,11,0.2);
  font-size: 11px;
  color: var(--amber);
  margin: 0 -1px;
}
.wp-batch-reminder strong { font-weight: 700; }
.wp-batch-reminder svg { flex-shrink: 0; color: var(--amber); }

/* ============================================================
   WALLPAPER: RESULTS HERO VARIANTS
   ============================================================ */
.hero-label--rose { color: var(--rose) !important; }
.hero-number--rose {
  background: linear-gradient(135deg, #fff 40%, var(--rose) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ============================================================
   WALLPAPER: SIDEBAR NAV ACTIVE STATE
   ============================================================ */
#navWallpaper .nav-item.active {
  background: var(--rose-dim);
  color: var(--rose);
  border-color: rgba(244,63,94,0.2);
}
.walls-container {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 15px;
}

.wall-item {
  position: relative;
  background: rgba(255, 255, 255, 0.05);
  padding: 15px;
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.btn-remove-wall {
  position: absolute;
  right: 10px;
  top: 10px;
  background: none;
  border: none;
  color: #ff4d4d;
  font-size: 20px;
  cursor: pointer;
  opacity: 0.6;
}

.btn-remove-wall:hover {
  opacity: 1;
}
#addWallBtn {
    background: #3b82f6; /* ნაზი იასამნისფერი გამჭვირვალობით */
    color: #ffffff; /* ღია ტექსტი */
    border: 1px solid rgba(99, 102, 241, 0.4);
    padding: 8px 16px;
    border-radius: 12px;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
    backdrop-filter: blur(4px); /* მინის ეფექტი */
    margin-bottom: 10px;
    margin-top:  10px;
}

/* ეფექტი მაუსის გადატარებისას */
#addWallBtn:hover {
    background: rgba(79, 70, 229, 0.3);
    border-color: #818cf8;
    color: #ffffff;
    box-shadow: 0 0 15px rgba(99, 102, 241, 0.3); /* ნეონისებრი განათება */
    transform: translateY(-1px);
}

/* ეფექტი დაჭერისას */
#addWallBtn:active {
    transform: translateY(1px);
}
/* --- მობილურის და სქროლის ფიქსი --- */

/* 1. მთავარი კონტეინერი, რომელსაც HTML-ში previewScroll ჰქვია */
#previewScroll {
    display: flex !important;
    flex-wrap: nowrap !important; /* აიძულებს ერთ ხაზზე ყოფნას */
    overflow-x: auto !important;
    overflow-y: hidden !important;
    scroll-snap-type: x mandatory;
    width: 100% !important;
    max-width: 100vw;
    -webkit-overflow-scrolling: touch;
    gap: 0 !important;
}

/* 2. თითოეული კედლის პანელი */
.wall-panel {
    flex: 0 0 100% !important; /* ზუსტად 100% სიგანე */
    width: 100% !important;
    min-width: 100% !important;
    scroll-snap-align: center;
    box-sizing: border-box;
}

/* 3. რომ აპლიკაცია გვერდზე არ გაიბეროს */
body, html {
    overflow-x: hidden;
    position: relative;
    width: 100%;
}

.output-column {
    max-width: 100vw;
    overflow: hidden;
}
.toggle-container {
    cursor: pointer;
    user-select: none;
}

.toggle-switch {
    width: 160px;
    height: 36px;
    background: var(--bg-3);
    border: 1px solid var(--border);
    border-radius: 20px;
    position: relative;
    display: flex;
    align-items: center;
    padding: 0 4px;
}

.mode-label {
    flex: 1;
    text-align: center;
    font-size: 11px;
    z-index: 2;
    color: var(--text-3);
    transition: color 0.3s;
    font-weight: 600;
}

.toggle-handle {
    position: absolute;
    width: 78px;
    height: 28px;
    background: var(--blue);
    border-radius: 16px;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);
}

/* როცა სწრაფი რეჟიმი აქტიურია */
.toggle-switch.active .toggle-handle {
    transform: translateX(74px);
}


.toggle-switch.active .mode-label.quick { color: #fff; }
.toggle-switch:not(.active) .mode-label.details { color: #fff; }

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
}

.advice{
  margin: 10px;
}

@media print {
    /* დაუმალე PDF-ს ის ელემენტები, რაც არ გინდა რომ გამოჩნდეს */
    .btn-primary, .sidebar, .add-opening-btn, .btn-remove {
        display: none !important;
    }
    
    .output-column {
        width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    .results-card {
        break-inside: avoid; /* რომ ბარათი შუაზე არ გაიჭრას გვერდებს შორის */
    }
}
@media print {
  #previewScroll {
    display: flex !important;
    flex-direction: column !important;
    overflow: visible !important;
  }
  .wall-panel {
    width: 100% !important;
    margin-bottom: 30px !important;
    page-break-inside: avoid;
  }
}

/* PDF ღილაკის საწყისი მდგომარეობა (მუქი) */
.pdf-btn {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 10px;
    font-size: 12px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    margin-top: 10px;
    
    /* ფერები სქრინშოტის image_9f28b5.png მიხედვით */
    background: var(--surface-2) !important; 
    color: var(--text-2) !important;
    border: 1px solid var(--border, rgba(255, 255, 255, 0.1));
}

/* Hover ეფექტი - ზუსტად ისე, როგორც image_a9251c.png-ზეა */
.pdf-btn:hover {
    border-color: var(--green) !important;
    color: var(--green) !important;
    background: var(--green-dim) !important;
    transform: translateY(-1px);
}

.pdf-btn:active {
    transform: translateY(0);
}

/* აიკონის ფერის სინქრონიზაცია ტექსტთან */
.pdf-btn svg {
    stroke: currentColor;
    fill: none;
    width: 16px;
    height: 16px;
}

/* --- მობილურის ინტერფეისის სრული კოდი --- */

/* 1. კომპიუტერზე ვმალავთ მობილურის ელემენტებს */
.mobile-top-bar, .sidebar-close-btn {
    display: none;
}

@media screen and (max-width: 992px) {
    /* 2. ზედა ჰედერი (ბურგერი + ლოგო) */
    .mobile-top-bar {
        display: flex !important;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 60px;
        background: #161b27; 
        padding: 0 20px;
        align-items: center;
        justify-content: space-between;
        z-index: 2000;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
 

    /* 3. ბურგერ ღილაკის 3 ხაზი (ვიზუალიზაცია) */
    .burger-menu-btn {
        display: flex !important;
        flex-direction: column;
        justify-content: center;
        gap: 5px;
        width: 30px;
        height: 30px;
        background: none;
        border: none;
        cursor: pointer;
        padding: 0;
        
    }

    .burger-menu-btn span {
        display: block !important;
        width: 24px;
        height: 2px;
        background-color: #ffffff !important; /* თეთრი ფერი ხაზებისთვის */
        border-radius: 2px;
        
    }

    .mobile-brand-name {
        color: white;
        font-weight: bold;
        font-family: 'Noto Sans Georgian', sans-serif;
    }

    /* 4. თავად მენიუ (Sidebar) */
    .sidebar {
        display: none !important;
        position: fixed !important;
        top: 0;
        left: 0;
        width: 100% !important;
        height: 100vh !important;
        z-index: 9999 !important;
        background: #0f1117 !important; /* სრულიად მუქი ფონი */
        
        flex-direction: column;
        align-items: flex-start;
        overflow-y: auto;
    }

    /* როცა ჯავასკრიპტი ამატებს .active კლასს */
    .sidebar.active {
        display: flex !important;
    }

    /* 5. დახურვის ღილაკი (X) მენიუს შიგნით */
    .sidebar-close-btn {
        display: flex !important; /* გამოჩნდეს მხოლოდ მობილურზე */
        align-items: center;
        justify-content: center;
        position: absolute;
        top: 15px;
        right: 15px;
        width: 20px;
        height: 20px;
        font-size: 25px !important;
        color: #ffffff !important;
        background: rgba(255, 255, 255, 0.05);
        border: none;
        border-radius: 50%;
        cursor: pointer;
        z-index: 10001;
        padding: 20px;
    }

    /* 6. კონტენტის ჩამოწევა, რომ ჰედერს არ შეეფაროს */
    .main-content {
        margin-left: 0 !important;
        padding-top: 80px !important;
        width: 100% !important;
    }

    /* მენიუს ნივთების განლაგება */
    .sidebar-nav {
        width: 100%;
        display: flex;
        flex-direction: column;
        gap: 8px; /* დაშორება ღილაკებს შორის */
    }

    .nav-item {
        width: 100% !important;
        height: 56px !important; /* უფრო დიდი სიმაღლე თითისთვის */
       
        display: flex;
        align-items: center;
        justify-content: flex-start;
        font-size: 15px !important;
        font-weight: 500 !important;
        color: var(--text) !important;
        transition: all 0.2s ease;
    }
}


/* ინფუთის სტილი */
/* სელექტის სტილი */
.opening-wall-select {
    appearance: none; /* ბრაუზერის სტანდარტული ისრის მოცილება */
    -webkit-appearance: none;
    background-color: #1e2535; /* ღია ვარდისფერი ფონი */
    color: #ffffff; /* ვარდისფერი ტექსტი */
    border: 1.5px solid #2d3748;
    border-radius: 8px; /* მომრგვალება */
    padding: 0 12px;
    height: 32px; /* იგივე სიმაღლე რაც ღილაკს */
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.2s ease;
    outline: none;
    text-align: center;
}

.opening-wall-select:hover {
    background-color: #14b8a6;
    border-color: #14b8a6;
}

/* თუ გინდა რომ პატარა ისარი მაინც ჰქონდეს გვერდით */
.opening-wall-select {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23f43f5e'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 8px center;
    background-size: 14px;
    padding-right: 28px;
} 